# SETUP Protocol (최초 설정 프로토콜)

## Description
[최초 1회 실행] 필수 지식 베이스 파일이 없을 때, 프로젝트 자동 분석과 사용자와의 대화를 통해 핵심 파일을 생성합니다.

---

## Steps (실행 단계)

### **Step 1: 자동 분석 시작 안내**
- **Action:** 사용자에게 "최초 설정 모드"를 시작하며, 프로젝트의 기술적인 컨텍스트를 파악하기 위해 루트 디렉터리부터 자동 분석을 시작하겠습니다.
- **Rationale:** 사용자에게 앞으로 진행될 자동화된 분석 작업에 대해 미리 알려, AI의 행동을 예측 가능하게 합니다.

### **Step 2: 메모리 뱅크 골격 생성 (비파괴적)**
- **Action:** `ai_bootstrap_protocol.md`에 정의된 메모리 뱅크 구조(`project_context`, `deep_dives`, `guidelines` 등)를 확인하고, 존재하지 않는 폴더를 생성합니다. 그 후, 각 폴더를 순회하며 `index.yaml` 파일이 **존재하지 않는 경우에만** `knowledge_base.update_protocol`에 정의된 기본 템플릿을 사용하여 새로 생성합니다.
- **Rationale:** 지식을 체계적으로 저장하기 위한 서랍(폴더 구조)을 먼저 만듭니다. 이미 존재하는 `index.yaml`은 보존하여, 사용자의 기존 설정을 보호하고 데이터 유실을 방지합니다.

### **Step 3: 프로젝트 구조 및 기술 스택 분석**
- **Action:** `secure_tool_executor_protocol`을 통해 `list_dir`, `read_file` 등의 도구를 활용하여 프로젝트 루트부터 주요 파일(`package.json`, `tsconfig.json` 등)을 탐색하고 내용을 분석하여 기술 스택, 의존성, 빌드 설정 등을 파악합니다.
- **Rationale:** 사용자의 입력에만 의존하지 않고, 코드베이스 자체에서 객관적인 기술 정보를 추출하여 컨텍스트의 정확성을 높입니다.

### **Step 4: 전체 컨텍스트 초안 및 질문 생성**
- **Action:** 분석 결과를 바탕으로 `techContext.md`의 한글 초안을 작성하고, `projectbrief.md`와 `productContext.md` 작성을 위한 한글 질문을 생성합니다. 또한, `configuration.knowledge_base.project_context.core_files` 목록에 있는 나머지 모든 필수 문서에 대해서도 초기 템플릿을 생성할 준비를 합니다.
- **Rationale:** AI가 먼저 일을 처리하고 질문함으로써, 사용자는 처음부터 모든 것을 설명할 필요 없이, AI의 분석 결과를 검토하고 부족한 부분만 채워주면 되므로 사용자의 부담을 크게 줄일 수 있습니다.

### **Step 5: 컨텍스트 파일 스키마 규칙 숙지**
- **Action:** `configuration.system_files.config_rules`에서 `ai-bootstrap-protocol` 규칙의 경로를 찾아 직접 읽고, 앞으로 생성할 파일들이 준수해야 할 스키마를 정확히 숙지합니다.
- **Rationale:** 파일을 생성하기 전에, 그 파일이 가져야 할 정확한 구조와 형식을 미리 학습하여, 생성 단계에서의 오류를 최소화하고 일관성을 보장하기 위함입니다.

### **Step 6: 사용자 확인 및 전체 컨텍스트 파일 생성**
- **Action:** 생성된 한글 초안과 질문들을 사용자에게 제시하고, 답변을 받아 `configuration.knowledge_base.project_context.core_files`에 명시된 **모든** 필수 컨텍스트 파일을, 5단계에서 숙지한 스키마 규칙에 따라 한글 중심으로 생성합니다. 이 과정에서 누락되는 파일이 없도록 보장해야 합니다.
- **Rationale:** AI의 자동 분석 결과와 사용자의 비즈니스 지식을 결합하여, 사전에 정의된 규칙에 맞는 완전하고 정확한 초기 컨텍스트를 완성하는 단계입니다.

### **Step 7: 생성된 파일 스키마 검증 [GATE]**
- **Action:** 5단계에서 숙지한 `ai-bootstrap-protocol` 규칙의 `verification_checklist`를 기준으로, 6단계에서 생성된 모든 파일들이 스키마를 완벽하게 준수하는지 최종 검증합니다. 실패 시, 즉시 수정을 시도합니다.
- **Rationale:** 초기 지식 베이스의 구조적 무결성을 최종적으로 보장하는 핵심적인 검증 단계입니다. 생성과 동시에 검증을 수행하여 오류가 다음 단계로 전파되는 것을 원천 차단합니다.

### **Step 8: 설정 완료 및 재부팅 제안**
- **Action:** 모든 필수 파일 생성이 완료되고 검증되었음을 알리고, 완전한 컨텍스트를 로드하기 위해 시스템을 재부팅할 것을 제안합니다.
- **Rationale:** 새롭게 생성되고 검증된 지식 베이스를 `BOOTING` 단계부터 다시 정상적으로 읽어들여야만, AI가 완전한 상태로 동작할 수 있습니다. 