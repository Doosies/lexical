# PLANNING Protocol (κ³„ν ν”„λ΅ν† μ½)
# version: 3.4

## Description
μ‚¬μ©μ μ”μ²­μ„ λ¶„μ„ν•κ³ , `memory_bank`μ κµ¬μ΅°ν™”λ μ§€μ‹(`index.yaml`)κ³Ό `brain.yaml`μ— μ •μλ μ „λ¬Έκ°€ μ‹μ¤ν…μ„ ν™μ©ν•μ—¬ ν¬λ…ν•κ³  μ•μ •μ μΈ μ‹¤ν–‰ κ³„νμ„ μλ¦½ν•©λ‹λ‹¤.

---

## Steps (μ‹¤ν–‰ λ‹¨κ³„)

### **Step 1: μ‹μ¤ν… λ¬΄κ²°μ„± λ° μ΄μ „ μ»¨ν…μ¤νΈ ν™•μΈ**
- **Action:** `Pre-flight Checklist` μ™„λ£ μ—¬λ¶€λ¥Ό ν™•μΈν•κ³ , `activeContext.md`μ 'λ€κΈ° μ¤‘μΈ μ‘μ—…'μ„ κ²€ν† ν•©λ‹λ‹¤.
- **Rationale:** λ¨λ“  κ³„νμ€ λ™κΈ°ν™”λ μµμ‹  μ»¨ν…μ¤νΈ μ„μ—μ„ μλ¦½λμ–΄μ•Ό ν•©λ‹λ‹¤.

### **Step 2: μ‚¬μ©μ μ”μ²­ λ¶„μ„ λ° λ©ν‘ μ„¤μ •**
- **Action:** μ‚¬μ©μμ ν„μ¬ μ”μ²­κ³Ό λ€ν™” λ§¥λ½μ„ λ¶„μ„ν•μ—¬ μ΄λ² μ„λ¬΄μ **'μ£Όμ” λ©ν‘(Major Goal)'**λ¥Ό ν• λ¬Έμ¥μΌλ΅ μ •μν•©λ‹λ‹¤.
- **Rationale:** μ‚¬μ©μμ κ¶κ·Ήμ μΈ μλ„λ¥Ό νμ•…ν•μ—¬ μ‘μ—…μ λ°©ν–¥μ„±μ„ μ„¤μ •ν•©λ‹λ‹¤.

### **Step 3: κµ¬μ΅°ν™”λ μ§€μ‹ νƒμƒ‰ (Index-First Approach)**
- **Action:**
    1.  `memory_bank` λ‚΄μ κ° λ””λ ‰ν† λ¦¬μ— μλ” `index.yaml` νμΌμ„ λ¨Όμ € `read_file`λ΅ μ½μ–΄, μ”μ²­κ³Ό κ΄€λ ¨λ νμΌμ΄ μλ”μ§€ μ²΄κ³„μ μΌλ΅ ν™•μΈν•©λ‹λ‹¤.
    2.  `index.yaml`μ— λ…μ‹λ ν•µμ‹¬ λ¬Έμ„(`systemPatterns.md`, `techContext.md` λ“±)λ¥Ό μ°μ„ μ μΌλ΅ κ²€ν† ν•©λ‹λ‹¤.
    3.  ν•„μ”μ‹ `codebase_search`λ¥Ό λ³΄μ΅°μ μΌλ΅ μ‚¬μ©ν•μ—¬ μ¶”κ°€ μ •λ³΄λ¥Ό νƒμƒ‰ν•©λ‹λ‹¤.
- **Rationale:** λΉ„κµ¬μ΅°μ μΈ μ „μ²΄ κ²€μƒ‰μ— μ•μ„, κµ¬μ΅°ν™”λ λ©μ°¨(`index.yaml`)λ¥Ό λ¨Όμ € ν™•μΈν•μ—¬ μ •λ³΄ νƒμƒ‰μ ν¨μ¨μ„±κ³Ό μ •ν™•μ„±μ„ κ·Ήλ€ν™”ν•©λ‹λ‹¤.

### **Step 4: μ‘μ—… λ©λ΅ κµ¬μ²΄ν™”**
- **Action:** μ„¤μ •λ 'μ£Όμ” λ©ν‘'μ™€ **νƒμƒ‰ν• μ§€μ‹**μ„ λ°”νƒ•μΌλ΅ κµ¬μ²΄μ μΈ λ‹¨κ³„λ“¤μ„ **`β³ μ‘μ—… λ‚΄μ©`** ν•μ‹μ λ¦¬μ¤νΈλ΅ μ‘μ„±ν•©λ‹λ‹¤. μ΄κ²ƒμ΄ `activeContext.md`μ— κΈ°λ΅λ  **'μ‘μ—… λ©λ΅(Todo List)'**μ΄ λ©λ‹λ‹¤.
- **Rationale:** μ¶”μƒμ μΈ λ©ν‘λ¥Ό κµ¬μ²΄μ μΈ μ‹¤ν–‰ λ‹¨μ„λ΅ λ¶„ν•΄ν•μ—¬ κ³„νμ ν¬λ…μ„±κ³Ό μ‹¤ν–‰ κ°€λ¥μ„±μ„ λ†’μ…λ‹λ‹¤.

### **Step 5: μ „λ¬Έκ°€ κ°μ… μμΈ΅ (Tool-based Trigger)**
- **Action:**
    1.  `[TOOL: read_file]`μ„ μ‚¬μ©ν•μ—¬ `brain.yaml`μ `expert_triggers` μ„Ήμ…μ„ μ½μ–΄μµλ‹λ‹¤.
    2.  μλ¦½λ 'μ‘μ—… λ©λ΅'μ— ν¬ν•¨λ λ„κµ¬ μ‹¤ν–‰(e.g., `write`, `search_replace`)μ΄, `acting` λ‹¨κ³„μ—μ„ `tool.name` λλ” `tool.parameters` κΈ°λ°μ μ „λ¬Έκ°€ νΈλ¦¬κ±°λ¥Ό λ°λ™μ‹ν‚¬μ§€ **μμΈ΅**ν•©λ‹λ‹¤.
    3.  μ „λ¬Έκ°€ κ°μ…μ΄ μμΈ΅λλ” κ²½μ°, `π§‘β€π”¬` μ•„μ΄μ½κ³Ό ν•¨κ» ν•΄λ‹Ή λ‚΄μ©μ„ κ³„νμ— λ…μ‹μ μΌλ΅ ν¬ν•¨μ‹ν‚¤κ±°λ‚ μ‚¬μ©μμ—κ² λ―Έλ¦¬ μ•λ¦½λ‹λ‹¤.
- **Rationale:** [ARCHITECT] μ΄ λ‹¨κ³„λ” 'μ„¤κ³„μ'μ κ΄€μ μ—μ„, 'λ¬Έμ§€κΈ°'κ°€ ν™•μΈν• `user.input` κΈ°λ° νΈλ¦¬κ±°κ°€ μ•„λ‹, μ‹¤μ  μ‘μ—… μ‹¤ν–‰μΌλ΅ μΈν•΄ λ°μƒν•  ν›„μ† μ „λ¬Έκ°€ κ°μ…μ„ 'μμΈ΅'ν•κ³  κ³„νμ— λ°μν•κΈ° μ„ν• κ²ƒμ…λ‹λ‹¤.

### **Step 6: κ³„ν κ³µμ  λ° μΉμΈ μ”μ²­**
- **Action:**
    1.  **[TOOL: write]** λ¥Ό μ‚¬μ©ν•μ—¬, μµμΆ… ν™•μ •λ **'μ£Όμ” λ©ν‘'**μ™€ **'μ‘μ—… λ©λ΅'**μ„ `activeContext.md` νμΌμ— λ¨Όμ € κΈ°λ΅ν•©λ‹λ‹¤.
    2.  `activeContext.md`μ— κΈ°λ΅λ κ³„νμ„ μ‚¬μ©μμ—κ² λ³΄μ—¬μ£Όλ©° μ‹¤ν–‰ μΉμΈμ„ μ”μ²­ν•©λ‹λ‹¤.
- **Rationale:** AIμ μƒκ°κ³Ό ν–‰λ™μ„ μΌμΉμ‹μΌ ν¬λ…μ„±μ„ ν™•λ³΄ν•κ³ , λ¨λ“  μ‘μ—…μ€ μ‚¬μ©μμ λ…μ‹μ μΈ λ™μ ν•μ— μν–‰λλ„λ΅ λ³΄μ¥ν•©λ‹λ‹¤.
