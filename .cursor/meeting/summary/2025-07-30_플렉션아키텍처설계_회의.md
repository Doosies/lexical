# 📄 0. 회의 기본 정보
- **회의 ID**: MEET-20250730-001
- **자동 분류**: 개발, 기획
- **회의 시간**: 2025-07-30 09:10 ~ 10:44
- **한 줄 요약 제목** (10자 이내): 플렉션 아키텍처 설계
- **회의 성격**: 기술 설계 회의
- **원본 파일명 및 경로**: .cursor/meeting/250730_0910(flexion).txt

# 👥 1. 참석자
- **남 팀장 (추정)**: 회의 주도, 전체 아키텍처 설계 및 방향성 제시
- **최승현, 조현오**: `flexion-erp` 담당
- **송민형**: `flexion-ui(node)` 담당
- **김진경**: `flexion-grid`, `flexion-form`, `flexion-plugin` 총괄 담당
- **서준석**: `flexion-grid` 개발 담당 (합류 예정)

# 📌 2. 회의 주제 요약
이번 회의는 신규 프레임워크 'Flexion'의 핵심 아키텍처를 설계하고 초기 개발 계획을 수립하기 위해 진행되었습니다. 주요 논의사항은 기존 5.0 시스템과 Flexion의 공존 방식, 데이터 모델링, 이벤트 처리, 컴포넌트 관리 방안이었습니다. 회의를 통해 **페이지 전체가 아닌 필요한 부분만 Flexion으로 구현하는 '임베디드' 방식을 채택**하고, 데이터와 UI의 종속성을 끊는 유연한 구조를 목표로 삼았습니다. 8월 8일까지 기본 구조와 개발 가이드를 완성하여 신규 인력을 투입할 수 있도록 구체적인 패키지별 담당자와 개발 과제를 확정했습니다.

# 🧷 3. 주요 키워드
플렉션(Flexion), ERP 컨텍스트, 단방향 데이터 흐름, 데이터 모델, 레지스트리(Provider), 참조 스코프, 데이터 키(data key), 노드 키(nodeKey), 플러그인, 조건부 서식, 렌더링 최적화

# 📎 4. 주요 내용 요약
### **1. Flexion 도입 전략 및 방향성**
- **도입 방식**: 기존 5.0 프레임워크와 공존하는 형태로, 페이지 전체가 아닌 'DMC 뷰어'와 같은 특정 컴포넌트를 Flexion으로 교체하는 `임베디드` 방식으로 결정.
- **적용 단위**: 메뉴(SID) 수준으로 Flexion 사용 여부를 분기하여 점진적으로 적용.
- **개발 목표**: 8월 8일까지 기본 구조 설계를 완료하고, 9월 5일까지 '견적 입력' 기능을 테스트 가능한 수준으로 개발. 최종적으로 9월 초부터 5.6 버전에 통합하는 것을 목표로 함.

### **2. Flexion 아키텍처 설계**
- **데이터 관리 (`flexion-erp`)**:
  - **단방향 데이터 흐름**: 모든 컴포넌트는 `이벤트 발생 → 모델 변경 → 스테이트 업데이트 → 렌더링`의 단방향 흐름을 엄격히 따름.
  - **데이터 모델 분리**: 하나의 UI 컨텍스트(`ERPContext`)가 여러 데이터 모델에 접근 가능하도록 설계하여, 데이터와 레이아웃의 1:1 종속성을 제거.
  - **외부 데이터 연동**:
    - `ERPService`를 통해 외부(5.0 프레임워크) 데이터 모델을 구독하고 상태를 동기화.
    - 데이터 변경 감지는 노드별 콜백이 아닌, 컨텍스트 단위의 단일 `subscribe` 콜백으로 처리하여 성능 부하 최소화.
  - **Key 관리**: 외부 데이터 모델과 연동되는 `데이터 키(data key)`와 Flexion 내부에서 사용하는 `노드 키(nodeKey)`를 분리. 외부에는 `노드 키`를 노출하지 않음.

- **컴포넌트 및 플러그인 관리 (`Registry`)**:
  - **동적 등록 및 오버라이딩**: 외부 프레임워크에서 커스텀 노드와 플러그인을 동적으로 주입하고, 기본 동작을 오버라이딩할 수 있는 `레지스트리(Provider)` 구조를 설계.
  - **참조 스코프**: `External Context → Global → Flexion Context → Fallback` 순서로 계층적인 참조 스코프를 적용하여 확장성을 보장. 모든 외부 참조는 `ERPService`를 통해서만 이루어짐.

- **성능 최적화 및 렌더링**:
  - **지연 처리**: 조건부 서식, 포맷팅 등 비용이 큰 작업은 `ISetup`에서 `FlexionAST`를 생성하는 시점이 아닌, 실제 DOM을 생성하는 렌더링 단계에서 처리.
  - **뷰포트 기반 실행**: 화면에 보이는(`viewport`) 노드에 대해서만 서식 및 포맷팅을 실행하여 초기 로딩 성능 최적화.
    - 이를 위해 `createDOM` 등 렌더링 파이프라인의 **비동기 처리 지원이 필수적**이며, 기술 검토가 필요함.

### **3. 패키지 구조 및 역할 분담**
- **패키지 재편**: `lexical-` 접두어를 `flexion-`으로 변경하고, 기능 단위로 패키지 분리.
- **주요 패키지 및 담당자**:
  - `flexion-erp`: 최승현, 조현오
  - `flexion-ui(node)`: 송민형
  - `flexion-grid` / `flexion-form` / `flexion-plugin`: 김진경, 서준석

# 📝 5. 액션 아이템 (해야 할 일)
- **담당자: 최승현, 조현오**
  - **할일**: `flexion-erp` 패키지 설계 및 구현 (ERPContext, ERPService, Registry 등)
  - **마감기한**: 2025-08-08 (기본 구조)

- **담당자: 송민형**
  - **할일**:
    1. `flexion-ui(node)` 패키지 담당 및 기본 노드 구현
    2. Date 위젯을 Flexion 노드로 완전 이전 (UI, 로직, AST 포함)
    3. 독립적인 노드 개발 환경 구성 (ERP 서비스 Mocking 포함)
  - **마감기한**: 2025-08-08

- **담당자: 김진경**
  - **할일**:
    1. `flexion-grid`, `flexion-form`, `flexion-plugin` 총괄 설계
    2. 플러그인 간 이벤트 처리 순서(버블링) 및 의존성 관리 방안 설계
    3. `createDOM` 등 렌더링 파이프라인의 비동기 처리 기술 검토
  - **마감기한**: 1번(2025-08-08), 2/3번(미정)

- **담당자: 서준석**
  - **할일**: `flexion-grid` 파트 개발 참여 (김진경과 협업)
  - **마감기한**: 합류 즉시

- **담당자: 전체 팀**
  - **할일**:
    1. Flexion-5.0 공존을 위한 전체 스펙 확정
    2. 4일에 진행 상황 리뷰
  - **마감기한**: 1번(2025-08-08), 2번(2025-08-04)
